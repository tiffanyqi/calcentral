<div class="cc-page-widget-profile-section-content-item-editing">
  <div class="cc-page-widget-profile-section-content-error cc-text-red" data-ng-if="errorMessage">
    <i class="cc-icon-red fa fa-exclamation-circle"></i>
    <span data-ng-bind="errorMessage"></span>
  </div>
  <div data-ng-if="!isDeleting">
    <form data-ng-submit="save(currentObject.data)" name="cc_page_widget_profile_work_experience">

      <div>
        <label for="cc-page-widget-profile-work-experience-employment-descr">
            <strong>Employer</strong> <span class="cc-text-light">(Required)</span>
        </label>
        <input type="text" data-ng-model="currentObject.data.employmentDescr" id="cc-page-widget-profile-work-experience-employment-descr" required aria-required="true" />
      </div>

      <div class="cc-page-widget-profile-margin-top" data-ng-include="'widgets/profile/address.html'"></div>

      <div class="cc-page-widget-profile-margin-top">
        <label for="cc-page-widget-profile-work-experience-phone-number">
          <strong>Phone Number</strong>
        </label>
      </div>
      <div>
        <input type="text" id="cc-page-widget-profile-work-experience-phone-number" data-ng-model="currentObject.data.phone" maxlength="24" />
      </div>

      <div class="cc-page-widget-profile-margin-top">
        <label for="cc-page-widget-profile-work-experience-start-date">
          <strong>Start Date</strong>
        </label>
      </div>
      <div class="cc-flex">
        <div class="cc-widget-tasks-date-input">
          <input type="text"
            data-ng-model="currentObject.data.startDt"
            name="cc_page_widget_profile_work_experience_start_date"
            id="cc-page-widget-profile-work-experience-start-date"
            placeholder="mm/dd/yyyy"
            data-cc-date-validator-directive />
          <p class="cc-alert cc-alert-text" role="alert" data-ng-show="cc_page_widget_profile_work_experience.cc_page_widget_profile_work_experience_start_date.$error.ccDateValidator">
            Please use mm/dd/yyyy date format
          </p>
        </div>
        <div>
          <button class="cc-button-transparent cc-page-widget-profile-section-calendar-icon" data-ng-click="api.util.preventBubble($event)" tabindex="-1" data-cc-datepicker-directive="cc-page-widget-profile-work-experience-start-date">
            <i class="fa fa-calendar"></i>
          </button>
        </div>
      </div>

      <div>
        <label for="cc-page-widget-profile-work-experience-end-date">
          <strong>End Date</strong>
        </label>
      </div>
      <div class="cc-flex">
        <div class="cc-widget-tasks-date-input">
          <input type="text"
            data-ng-model="currentObject.data.endDt"
            name="cc_page_widget_profile_work_experience_end_date"
            id="cc-page-widget-profile-work-experience-end-date"
            placeholder="mm/dd/yyyy"
            data-cc-date-validator-directive />
          <p class="cc-alert cc-alert-text" role="alert" data-ng-show="cc_page_widget_profile_work_experience.cc_page_widget_profile_work_experience_end_date.$error.ccDateValidator">
            Please use mm/dd/yyyy date format
          </p>
        </div>
        <div>
          <button class="cc-button-transparent cc-page-widget-profile-section-calendar-icon" data-ng-click="api.util.preventBubble($event)" tabindex="-1" data-cc-datepicker-directive="cc-page-widget-profile-work-experience-end-date">
            <i class="fa fa-calendar"></i>
          </button>
        </div>
      </div>

      <div class="cc-page-widget-profile-margin-top">
        <label for="cc-page-widget-profile-work-experience-job-title">
          <strong>Job Title</strong>
        </label>
        <input type="text" data-ng-model="currentObject.data.titleLong" id="cc-page-widget-profile-work-experience-job-title" />
      </div>

      <fieldset class="cc-page-widget-profile-fieldset">
        <legend>
          <strong>Employment Fraction</strong>
        </legend>
        <div data-ng-repeat="value in employFracValues">
          <label>
            <input type="radio" data-ng-model="currentObject.data.employFrac" data-ng-value="value.value" />
            <span data-ng-bind="value.label"></span>
          </label>
        </div>
      </fieldset>

      <div>
        <label for="cc-page-widget-profile-work-experience-ending-pay-rate">
          <strong>Ending Pay Rate</strong>
        </label>
        <input type="text" data-ng-model="currentObject.data.endingPayRate" id="cc-page-widget-profile-work-experience-ending-pay-rate" />
      </div>

      <div>
          <label for="cc-page-widget-profile-work-experience-currency-type">
            <strong>Currency Type</strong>
          </label>
        <div class="cc-select">
          <select data-ng-options="currency.currencyCd as (currency.currencyCd + ' - ' + currency.descr) for currency in currencies" data-ng-model="currentObject.data.currencyType" id="cc-page-widget-profile-work-experience-currency-type" required aria-required="true">
          </select>
        </div>
      </div>

      <div>
        <label for="cc-page-widget-profile-work-experience-hours-per-week">
          <strong>Hours Per Week</strong>
        </label>
        <input type="text" data-ng-model="currentObject.data.hoursPerWeek" id="cc-page-widget-profile-work-experience-hours-per-week" />
      </div>

      <div>
        <label for="cc-page-widget-profile-work-experience-pay-frequency">
          <strong>Pay Frequency</strong> <span class="cc-text-light">(Required)</span>
        </label>
        <div class="cc-select">
          <select data-ng-options="payfreq.fieldvalue as payfreq.xlatshortname for payfreq in typesPayFrequency" data-ng-model="currentObject.data.payFrequency" id="cc-page-widget-profile-work-experience-pay-frequency" required aria-required="true">
          </select>
        </div>
      </div>

      <div class="cc-page-widget-profile-margin-top">
        <button class="cc-button cc-button-blue" type="submit" data-ng-disabled="cc_page_widget_profile_work_experience.$invalid || isSaving || currentObject.stateFieldLoading">
          <span data-ng-if="!isSaving">Save</span>
          <span data-ng-if="isSaving">Updating&hellip;</span>
        </button>
        <button class="cc-button" data-ng-click="closeEditor()" data-ng-disabled="isSaving">Cancel</button>
      </div>
    </form>

    <form data-ng-submit="delete(currentObject.data)" data-ng-if="!currentObject.isAdding">
      (<button class="cc-button-link" type="submit" data-ng-disabled="isDeleting">Delete work experience</button>)
    </form>
  </div>

  <div data-ng-if="isDeleting">
    <i class="fa fa-spinner fa-spin"></i> Deleting&hellip;
  </div>

</div>
